---
import Layout from '../layouts/Layout.astro';
import Hero from '../components/hero';
import Skills from '../components/skills';
import Projects from '../components/projects';
import EnhancedBlogClient from '../components/enhanced-blog-client';
import Contact from '../components/contact';
import ScrollIndicator from '../components/scroll-indicator';
import Navbar from '../components/navbar';
import Footer from '../components/footer';
import { getAllProjects, getAllBlogPosts } from '../lib/content';
import '../styles/globals.css';

// サーバーサイドでデータを取得
const projects = getAllProjects();
const englishPosts = getAllBlogPosts();
---

<Layout title="Fairy Pitta | Software Engineer" description="Portfolio of Fairy Pitta, a software engineer crafting modern web apps in Astro and React.">
  <Navbar client:load />
  <ScrollIndicator client:load />
  <main>
    <section id="about">
      <!-- Heroのh1には.font-caveatが適用済み -->
      <Hero client:load />
    </section>
    <section id="skills">
      <Skills client:load />
    </section>
    <section id="projects">
      <Projects client:load projects={projects} />
    </section>
    <section id="blog">
      <EnhancedBlogClient client:load englishPosts={englishPosts} mode="home" />
    </section>
    <section id="contact">
      <Contact client:load />
    </section>
  </main>
  <Footer client:load />
</Layout>