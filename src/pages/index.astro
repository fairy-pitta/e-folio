---
import Layout from '../layouts/Layout.astro';
import Hero from '../components/hero';
import Skills from '../components/skills';
import Projects from '../components/projects';
import EnhancedBlogClient from '../components/enhanced-blog-client';
import Contact from '../components/contact';
import ScrollIndicator from '../components/scroll-indicator';
import Navbar from '../components/navbar';
import Footer from '../components/footer';
import { getAllProjects, getAllBlogPosts } from '../lib/content';
import '../styles/globals.css';

// サーバーサイドでデータを取得
const projects = getAllProjects();
const englishPosts = getAllBlogPosts();
---

<Layout title="fairy-pitta | Software Engineer">
  <Navbar client:load />
  <ScrollIndicator client:load />
  <main>
    <Hero client:load />
    <Skills client:load />
    <Projects client:load projects={projects} />
    <EnhancedBlogClient client:load englishPosts={englishPosts} mode="home" />
    <Contact client:load />
  </main>
  <Footer client:load />
</Layout>